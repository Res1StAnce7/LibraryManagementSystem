{"ast":null,"code":"import Cookies from 'js-cookie';\nimport request from \"@/utils/request\";\nimport * as echarts from 'echarts';\nconst option = {\n  title: {\n    text: 'Book Borrowing and Returning Statistics'\n  },\n  tooltip: {\n    trigger: 'axis'\n  },\n  legend: {\n    data: ['Number of Borrowing', 'Number of Returning']\n  },\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    containLabel: true\n  },\n  toolbox: {\n    feature: {\n      saveAsImage: {}\n    }\n  },\n  xAxis: {\n    type: 'category',\n    boundaryGap: false,\n    data: []\n  },\n  yAxis: {\n    type: 'value'\n  },\n  series: [{\n    name: 'Number of Borrowing',\n    type: 'line',\n    stack: 'total',\n    smooth: true,\n    data: []\n  }, {\n    name: 'Number of Returning',\n    type: 'line',\n    stack: 'total',\n    smooth: true,\n    data: []\n  }]\n};\nexport default {\n  data() {\n    return {\n      admin: Cookies.get('admin') ? JSON.parse(Cookies.get('admin')) : {},\n      lineBox: null,\n      timeRange: 'week',\n      options: [{\n        label: 'Past Week',\n        value: 'week'\n      }, {\n        label: 'Past Month',\n        value: 'month'\n      }, {\n        label: 'Past Two Months',\n        value: 'month2'\n      }, {\n        label: 'Past Three Months',\n        value: 'month3'\n      }]\n    };\n  },\n\n  mounted() {\n    this.load();\n  },\n\n  methods: {\n    load() {\n      if (!this.lineBox) {\n        this.lineBox = echarts.init(document.getElementById('line'));\n      }\n\n      request.get('/borrow/lineCharts/' + this.timeRange).then(res => {\n        option.xAxis.data = res.data.date;\n        option.series[0].data = res.data.borrow;\n        option.series[1].data = res.data.retur;\n        this.lineBox.setOption(option);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmBA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC;IACAC;EADA,CAJA;EAOAC;IACAC;EADA,CAPA;EAUAC;IACAC,UADA;IAEAC,WAFA;IAGAC,YAHA;IAIAC;EAJA,CAVA;EAgBAC;IACAC;MACAC;IADA;EADA,CAhBA;EAqBAC;IACAC,gBADA;IAEAC,kBAFA;IAGAX;EAHA,CArBA;EA0BAY;IACAF;EADA,CA1BA;EA6BAG,SACA;IACAC,2BADA;IAEAJ,YAFA;IAGAK,cAHA;IAIAC,YAJA;IAKAhB;EALA,CADA,EAQA;IACAc,2BADA;IAEAJ,YAFA;IAGAK,cAHA;IAIAC,YAJA;IAKAhB;EALA,CARA;AA7BA;AA+CA;EACAA;IACA;MACAiB,mEADA;MAEAC,aAFA;MAGAC,iBAHA;MAIAC,UACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA;IAJA;EAWA,CAbA;;EAcAC;IACA;EACA,CAhBA;;EAiBAC;IACAC;MACA;QACA;MACA;;MACAC;QACAC;QACAA;QACAA;QACA;MACA,CALA;IAMA;;EAXA;AAjBA","names":["title","text","tooltip","trigger","legend","data","grid","left","right","bottom","containLabel","toolbox","feature","saveAsImage","xAxis","type","boundaryGap","yAxis","series","name","stack","smooth","admin","lineBox","timeRange","options","label","value","mounted","methods","load","request","option"],"sourceRoot":"src/views/home","sources":["HomeView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"margin: 20px 0\">\r\n      <el-select class=\"input\" v-model=\"timeRange\" placeholder=\"Time Range\" @change=\"load\">\r\n        <el-option\r\n            v-for=\"item in options\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n        </el-option>\r\n      </el-select>\r\n    </div>\r\n    <el-card>\r\n      <div id=\"line\" style=\"width: 100%; height: 400px\"></div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cookies from 'js-cookie'\r\nimport request from \"@/utils/request\";\r\nimport * as echarts from 'echarts'\r\n\r\nconst option = {\r\n  title: {\r\n    text: 'Book Borrowing and Returning Statistics'\r\n  },\r\n  tooltip: {\r\n    trigger: 'axis'\r\n  },\r\n  legend: {\r\n    data: ['Number of Borrowing', 'Number of Returning']\r\n  },\r\n  grid: {\r\n    left: '3%',\r\n    right: '4%',\r\n    bottom: '3%',\r\n    containLabel: true\r\n  },\r\n  toolbox: {\r\n    feature: {\r\n      saveAsImage: {}\r\n    }\r\n  },\r\n  xAxis: {\r\n    type: 'category',\r\n    boundaryGap: false,\r\n    data: []\r\n  },\r\n  yAxis: {\r\n    type: 'value'\r\n  },\r\n  series: [\r\n    {\r\n      name: 'Number of Borrowing',\r\n      type: 'line',\r\n      stack: 'total',\r\n      smooth: true,\r\n      data: []\r\n    },\r\n    {\r\n      name: 'Number of Returning',\r\n      type: 'line',\r\n      stack: 'total',\r\n      smooth: true,\r\n      data: []\r\n    }\r\n  ]\r\n}\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        admin: Cookies.get('admin') ? JSON.parse(Cookies.get('admin')) : {},\r\n        lineBox: null,\r\n        timeRange: 'week',\r\n        options: [\r\n          {label: 'Past Week', value: 'week'},\r\n          {label: 'Past Month', value: 'month'},\r\n          {label: 'Past Two Months', value: 'month2'},\r\n          {label: 'Past Three Months', value: 'month3'},\r\n        ]\r\n      }\r\n    },\r\n    mounted() {\r\n      this.load()\r\n    },\r\n    methods: {\r\n      load() {\r\n        if (!this.lineBox) {\r\n          this.lineBox = echarts.init(document.getElementById('line'))\r\n        }\r\n        request.get('/borrow/lineCharts/' + this.timeRange).then(res => {\r\n          option.xAxis.data = res.data.date\r\n          option.series[0].data = res.data.borrow\r\n          option.series[1].data = res.data.retur\r\n          this.lineBox.setOption(option)\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n.input {\r\n  width: 300px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}