{"ast":null,"code":"import Cookies from 'js-cookie';\nimport request from \"@/utils/request\";\nimport * as echarts from 'echarts';\nconst option = {\n  title: {\n    text: 'Book Borrowing and Returning Statistics'\n  },\n  tooltip: {\n    trigger: 'axis'\n  },\n  legend: {\n    data: ['Number of Borrowing', 'Number of Returning']\n  },\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    containLabel: true\n  },\n  toolbox: {\n    feature: {\n      saveAsImage: {}\n    }\n  },\n  xAxis: {\n    type: 'category',\n    boundaryGap: false,\n    data: []\n  },\n  yAxis: {\n    type: 'value'\n  },\n  series: [{\n    name: 'Number of Borrowing',\n    type: 'bar',\n    stack: 'total',\n    smooth: true,\n    data: []\n  }, {\n    name: 'Number of Returning',\n    type: 'bar',\n    stack: 'total',\n    smooth: true,\n    data: []\n  }]\n};\nexport default {\n  data() {\n    return {\n      admin: Cookies.get('admin') ? JSON.parse(Cookies.get('admin')) : {},\n      lineBox: null,\n      timeRange: 'week',\n      options: [{\n        label: 'Past Week',\n        value: 'week'\n      }, {\n        label: 'Past Month',\n        value: 'month'\n      }, {\n        label: 'Past Two Months',\n        value: 'month2'\n      }, {\n        label: 'Past Three Months',\n        value: 'month3'\n      }]\n    };\n  },\n\n  mounted() {\n    this.load();\n  },\n\n  methods: {\n    load() {\n      if (!this.lineBox) {\n        this.lineBox = echarts.init(document.getElementById('line'));\n      }\n\n      request.get('/borrow/lineCharts/' + this.timeRange).then(res => {\n        option.xAxis.data = res.data.date;\n        option.series[0].data = res.data.borrow;\n        option.series[1].data = res.data.retur;\n        this.lineBox.setOption(option);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmBA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;EAIAC;IACAC;EADA,CAJA;EAOAC;IACAC;EADA,CAPA;EAUAC;IACAC,UADA;IAEAC,WAFA;IAGAC,YAHA;IAIAC;EAJA,CAVA;EAgBAC;IACAC;MACAC;IADA;EADA,CAhBA;EAqBAC;IACAC,gBADA;IAEAC,kBAFA;IAGAX;EAHA,CArBA;EA0BAY;IACAF;EADA,CA1BA;EA6BAG,SACA;IACAC,2BADA;IAEAJ,WAFA;IAGAK,cAHA;IAIAC,YAJA;IAKAhB;EALA,CADA,EAQA;IACAc,2BADA;IAEAJ,WAFA;IAGAK,cAHA;IAIAC,YAJA;IAKAhB;EALA,CARA;AA7BA;AA+CA;EACAA;IACA;MACAiB,mEADA;MAEAC,aAFA;MAGAC,iBAHA;MAIAC,UACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA;IAJA;EAWA,CAbA;;EAcAC;IACA;EACA,CAhBA;;EAiBAC;IACAC;MACA;QACA;MACA;;MACAC;QACAC;QACAA;QACAA;QACA;MACA,CALA;IAMA;;EAXA;AAjBA","names":["title","text","tooltip","trigger","legend","data","grid","left","right","bottom","containLabel","toolbox","feature","saveAsImage","xAxis","type","boundaryGap","yAxis","series","name","stack","smooth","admin","lineBox","timeRange","options","label","value","mounted","methods","load","request","option"],"sourceRoot":"src/views/home","sources":["HomeView.vue"],"sourcesContent":["<template>\n  <div>\n    <div style=\"margin: 20px 0\">\n      <el-select class=\"input\" v-model=\"timeRange\" placeholder=\"Time Range\" @change=\"load\">\n        <el-option\n            v-for=\"item in options\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n        </el-option>\n      </el-select>\n    </div>\n    <el-card>\n      <div id=\"line\" style=\"width: 100%; height: 400px\"></div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport Cookies from 'js-cookie'\nimport request from \"@/utils/request\";\nimport * as echarts from 'echarts'\n\nconst option = {\n  title: {\n    text: 'Book Borrowing and Returning Statistics'\n  },\n  tooltip: {\n    trigger: 'axis'\n  },\n  legend: {\n    data: ['Number of Borrowing', 'Number of Returning']\n  },\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    containLabel: true\n  },\n  toolbox: {\n    feature: {\n      saveAsImage: {}\n    }\n  },\n  xAxis: {\n    type: 'category',\n    boundaryGap: false,\n    data: []\n  },\n  yAxis: {\n    type: 'value'\n  },\n  series: [\n    {\n      name: 'Number of Borrowing',\n      type: 'bar',\n      stack: 'total',\n      smooth: true,\n      data: []\n    },\n    {\n      name: 'Number of Returning',\n      type: 'bar',\n      stack: 'total',\n      smooth: true,\n      data: []\n    }\n  ]\n}\n\n  export default {\n    data() {\n      return {\n        admin: Cookies.get('admin') ? JSON.parse(Cookies.get('admin')) : {},\n        lineBox: null,\n        timeRange: 'week',\n        options: [\n          {label: 'Past Week', value: 'week'},\n          {label: 'Past Month', value: 'month'},\n          {label: 'Past Two Months', value: 'month2'},\n          {label: 'Past Three Months', value: 'month3'},\n        ]\n      }\n    },\n    mounted() {\n      this.load()\n    },\n    methods: {\n      load() {\n        if (!this.lineBox) {\n          this.lineBox = echarts.init(document.getElementById('line'))\n        }\n        request.get('/borrow/lineCharts/' + this.timeRange).then(res => {\n          option.xAxis.data = res.data.date\n          option.series[0].data = res.data.borrow\n          option.series[1].data = res.data.retur\n          this.lineBox.setOption(option)\n        })\n      }\n    }\n  }\n</script>\n\n<style>\n.input {\n  width: 300px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}