"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[822],{2822:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-bottom":"20px"}},[t("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"Book Name"},model:{value:e.params.bookName,callback:function(t){e.$set(e.params,"bookName",t)},expression:"params.bookName"}}),t("el-input",{staticStyle:{width:"240px","margin-left":"5px"},attrs:{placeholder:"Book Code"},model:{value:e.params.bookNo,callback:function(t){e.$set(e.params,"bookNo",t)},expression:"params.bookNo"}}),t("el-input",{staticStyle:{width:"240px","margin-left":"5px"},attrs:{placeholder:"User Name"},model:{value:e.params.userName,callback:function(t){e.$set(e.params,"userName",t)},expression:"params.userName"}}),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.load}},[t("i",{staticClass:"el-icon-search"}),e._v(" Search")]),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"warning"},on:{click:e.reset}},[t("i",{staticClass:"el-icon-refresh"}),e._v(" Reset")])],1),t("el-table",{attrs:{data:e.tableData,stripe:"","row-key":"id","empty-text":" ","default-expand-all":""}},[t("el-table-column",{attrs:{prop:"id",label:"ID"}}),t("el-table-column",{attrs:{prop:"bookName",label:"BookName",width:"100"}}),t("el-table-column",{attrs:{prop:"bookNo",label:"Code"}}),t("el-table-column",{attrs:{prop:"userNo",label:"UserID"}}),t("el-table-column",{attrs:{prop:"userName",label:"Name"}}),t("el-table-column",{attrs:{prop:"userPhone",label:"Phone"}}),t("el-table-column",{attrs:{prop:"score",label:"PointsNeeded",width:"100"}}),t("el-table-column",{attrs:{prop:"createtime",label:"TimeLent",width:"100"}}),t("el-table-column",{attrs:{prop:"status",label:"Status"}}),t("el-table-column",{attrs:{prop:"days",label:"DaysLent"}}),t("el-table-column",{attrs:{prop:"returnDate",label:"DateReturning",width:"110"}}),t("el-table-column",{attrs:{prop:"note",label:"Expiration",width:"80"},scopedSlots:e._u([{key:"default",fn:function(a){return["Normal"===a.row.note?t("el-tag",{attrs:{type:"success"}},[e._v(e._s(a.row.note))]):e._e(),"About to Expire"===a.row.note?t("el-tag",{attrs:{type:"primary"}},[e._v(e._s(a.row.note))]):e._e(),"Expired"===a.row.note?t("el-tag",{attrs:{type:"warning"}},[e._v(e._s(a.row.note))]):e._e(),"Expired"===a.row.note?t("el-tag",{attrs:{type:"danger"}},[e._v(e._s(a.row.note))]):e._e()]}}])}),t("el-table-column",{attrs:{label:"Management",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return["Returned"!==a.row.status?t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.returnBooks(a.row)}}},[e._v("Return")]):e._e()]}}])}),t("el-table-column",{attrs:{label:"Operation",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popconfirm",{attrs:{title:"Are you sure to delete this record?"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("Delete")])],1)]}}])})],1),t("div",{staticStyle:{"margin-top":"20px"}},[t("el-pagination",{attrs:{background:"","current-page":e.params.pageNum,"page-size":e.params.pageSize,layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},o=[],l=a(4471),s=a(680),n={name:"BorrowList",data(){return{admin:s.Z.get("admin")?JSON.parse(s.Z.get("admin")):{},tableData:[],total:0,params:{pageNum:1,pageSize:10,name:"",bookNo:""}}},created(){this.load()},methods:{load(){l.Z.get("/borrow/page",{params:this.params}).then((e=>{"200"===e.code&&(this.tableData=e.data.list,this.total=e.data.total)}))},reset(){this.params={pageNum:1,pageSize:10,bookName:"",bookNo:"",userName:""},this.load()},handleCurrentChange(e){this.params.pageNum=e,this.load()},del(e){l.Z["delete"]("/borrow/delete/"+e).then((e=>{"200"===e.code?(this.$notify.success("Delete successfully"),this.load()):this.$notify.error(e.msg)}))},returnBooks(e){l.Z.post("/borrow/saveReturn",e).then((e=>{"200"===e.code?(this.$notify.success("Return successfully"),this.load()):this.$notify.error(e.msg)}))}}},i=n,p=a(1001),u=(0,p.Z)(i,r,o,!1,null,"623e6d8e",null),c=u.exports}}]);
//# sourceMappingURL=822.d7604190.js.map