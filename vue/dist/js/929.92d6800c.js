"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[929],{6929:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});a(7658);var l=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{"margin-bottom":"20px"}},[e("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"Book Name"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}}),e("el-input",{staticStyle:{width:"240px","margin-left":"5px"},attrs:{placeholder:"Book Code"},model:{value:t.params.bookNo,callback:function(e){t.$set(t.params,"bookNo",e)},expression:"params.bookNo"}}),e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:t.load}},[e("i",{staticClass:"el-icon-search"}),t._v(" Search")]),e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"warning"},on:{click:t.reset}},[e("i",{staticClass:"el-icon-refresh"}),t._v(" Reset")])],1),e("el-table",{attrs:{data:t.tableData,stripe:"","row-key":"id","empty-text":" ","default-expand-all":""}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),e("el-table-column",{attrs:{prop:"name",label:"Book Name",width:"100"}}),e("el-table-column",{attrs:{prop:"bookNo",label:"Book Code",width:"100"}}),e("el-table-column",{attrs:{prop:"description",width:"100",label:"Description"}}),e("el-table-column",{attrs:{prop:"publishDate",label:"Date of Publication",width:"140"}}),e("el-table-column",{attrs:{prop:"author",label:"Author"}}),e("el-table-column",{attrs:{prop:"publisher",label:"Publisher"}}),e("el-table-column",{attrs:{prop:"category",label:"Category"}}),e("el-table-column",{attrs:{prop:"score",label:"Point"}}),e("el-table-column",{attrs:{prop:"nums",label:"Quantity"}}),e("el-table-column",{attrs:{prop:"cover",label:"Cover"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-image",{attrs:{src:t.row.cover,"preview-src-list":[t.row.cover]}})]}}])}),e("el-table-column",{attrs:{prop:"createtime",label:"Date of Creation",width:"120"}}),e("el-table-column",{attrs:{prop:"updatetime",label:"Date of Update",width:"120"}}),e("el-table-column",{attrs:{label:"Operation",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticStyle:{width:"60px","text-align":"center"},attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/editBook?id="+a.row.id)}}},[t._v(" Edit ")]),e("el-popconfirm",{staticStyle:{"margin-left":"0"},attrs:{title:"Are you sure to delete this book?"},on:{confirm:function(e){return t.del(a.row.id)}}},[e("el-button",{staticStyle:{width:"60px","margin-top":"10px","text-align":"center"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v(" Delete ")])],1)]}}])})],1),e("div",{staticStyle:{"margin-top":"20px"}},[e("el-pagination",{attrs:{background:"","current-page":t.params.pageNum,"page-size":t.params.pageSize,layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},o=[],r=a(4471),i=a(680),n={name:"BookList",data(){return{admin:i.Z.get("admin")?JSON.parse(i.Z.get("admin")):{},tableData:[],total:0,params:{pageNum:1,pageSize:10,name:"",bookNo:""}}},created(){this.load()},methods:{load(){r.Z.get("/book/page",{params:this.params}).then((t=>{"200"===t.code&&(this.tableData=t.data.list,this.total=t.data.total)}))},reset(){this.params={pageNum:1,pageSize:10,name:"",bookNo:""},this.load()},handleCurrentChange(t){this.params.pageNum=t,this.load()},del(t){r.Z["delete"]("/book/delete/"+t).then((t=>{"200"===t.code?(this.$notify.success("Delete Success"),this.load()):this.$notify.error(t.msg)}))}}},s=n,p=a(1001),c=(0,p.Z)(s,l,o,!1,null,"2f6d4009",null),u=c.exports}}]);
//# sourceMappingURL=929.92d6800c.js.map